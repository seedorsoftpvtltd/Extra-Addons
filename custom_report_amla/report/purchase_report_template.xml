<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_purchase_document">
	
        <t t-call="custom_report_amla.internal_layout_customs">
        	
			<t t-set="doc" t-value="doc.with_context(lang=doc.partner_id.lang)"/>
			<div class="page">
			    <br/>  <br/> <br/>
				<div style="text-align: center;height: 60px;">
					<strong><h2>PURCHASE ORDER</h2></strong>
				</div>
				<style>
					th, td {
					padding: 10px;
					text-align: left;
					}
					
					</style>
				<table class="table table-bordered">				
					<tr>
                       <td style="border: 1px solid;padding: 8px;">					
						<span>PO.No :</span>
						<span t-field="doc.name"/>
                       </td>
					   <td style="border: 1px solid;padding: 8px;">					
						<span>Date :</span>
						<span t-field="doc.date_order"/>
                       </td>
					</tr>
					</table>
					<table class="table table-bordered" style="margin-top:-17px;">
					 <tr>
					  <t>
					  <td style="border: 1px solid;padding: 8px;">
						<span>CONCERN Name   :</span> <span>   </span> <span t-field="doc.partner_id.name"/>
						<br/>
						<span>Address   :</span> <span></span>   <span t-field="doc.partner_id.street"/>,<span t-field="doc.partner_id.street2"/><br/><span t-field="doc.partner_id.city"/><br/><span t-field="doc.partner_id.state_id"/>,<span t-field="doc.partner_id.zip"/>
						<br/>
						<span>Mobile Numbers   :</span>  <t t-if='doc.partner_id.phone'><span>1)</span> <span t-field="doc.partner_id.phone"/></t> <t t-if='doc.partner_id.mobile'> <span>2)</span> <span></span> <span t-field="doc.partner_id.mobile"/></t>
						<br/>
						<span>E-mail  :</span> <span></span>   <span t-field="doc.partner_id.email"/>
						<br/>
						<span>GST Details  :</span>	<span>     </span> <span t-field="doc.partner_id.vat"/>				
					</td>
				  </t>
				</tr>			  
				<tr>
				     <t>
                       <td style="border: 1px solid;padding: 8px;">					
						<span>Delivery Address :</span>  <span></span>   <span t-field="doc.partner_id.street"/>,<span t-field="doc.partner_id.street2"/> 
                       </td>
                      </t>					   
					</tr>
				<tr>
				     <t>
                       <td style="border: 1px solid;padding: 8px;">					
						<span>Transport :</span> <span t-field="doc.transport"/>
                       </td>
                      </t>					   
					</tr>
				<tr>
				     <t>
                       <td style="border: 1px solid;padding: 8px;">					
						<span>Dear Sir,</span> <br/> <span  style="margin-left:20px;">We are pleased to place an order for the following goods which may kindly be despatched immediately</span> <br/> <span  style="margin-left:20px;"><b>The documents may be sent directly to us.</b></span>
                       </td>
                      </t>					   
					</tr>					
				</table>
				
				<table class="table table-bordered" style="margin-top:-17px;">
				    <thead>
						<tr>
							<th style="border: 1px solid;padding: 8px;">S.No</th>
							<th class="text-center" style="border: 1px solid;padding: 8px;">Description</th>
							<th class="text-center" style="border: 1px solid;padding: 8px;">Quantity</th>
							<th class="text-center" style="border: 1px solid;padding: 8px;">Price</th>
							<th class="text-center" style="border: 1px solid;padding: 8px;" >GST</th>
							<th class="text-center" style="border: 1px solid;padding: 8px;" colspan="4">NETT AMOUNT</th>
						</tr>
				    </thead>
				    <tbody>
					    <t t-set="sno" t-value="1"/>
				    	<t t-foreach="doc.order_line" t-as="line">
						<tr style="border: 1px solid;padding: 8px;">
						    <td style="border: 1px solid;padding: 8px;">  <span t-esc="sno"/></td>
							<td style="border: 1px solid;padding: 8px;"> <span t-field="line.name"/></td>
							<td class="text-center" style="border: 1px solid;padding: 8px;"> <span t-field="line.product_qty"/></td>
							<td class="text-right" style="border: 1px solid;padding: 8px;"> <span t-field="line.price_unit"/></td>
							<td class="text-center" style="border: 1px solid;padding: 8px;"> <span t-esc="', '.join(map(lambda x: x.name, line.taxes_id))"/></td>
							<td  style="border: 1px solid;padding: 8px;" colspan="4" class="text-right">  <span t-field="line.price_subtotal"
                                         t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/></td>
						</tr>						
						<t>
							<t t-set="sno" t-value="sno+1"/>
						</t>
						</t>
						<t>
						<tr>
						  <td colspan="2"  style="border: 1px solid;padding: 8px;">									
						   </td>
							<td class="text-right" style="border: 1px solid;padding: 8px;" colspan="3"><span>Grand Total</span></td>
							<td class="text-right" style="border: 1px solid;padding: 8px;" colspan="4"><span t-field="doc.amount_total"
                                    t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/></td>
						</tr>
						<tr >
						  <td style="height:105px;border: 1px solid;padding: 8px;" colspan="2" >Special Instructions:<br/><span>&amp;nbsp;</span><span t-field="doc.notes"/> 								
						   </td>
							<td class="text-center" colspan="6" style="height:105px;border: 1px solid;padding: 8px;"><span>FOR MENAKA CARD PRIVATE LIMITED </span> <br/><br/><br/><br/><br/><span>Authorised signatory</span></td>														
						</tr>
						</t>
					</tbody>
				</table>
			</div>
			
			<t t-call='custom_report_amla.external_layout_footer' />
		</t>
    </template>
	<template id="external_layout_footer">

			<!-- <div class='footer'> -->
			<!-- <br/> -->
				<!-- <div class='last-page' style="border-top: 1px solid black;"> -->
					<!-- <div class="text-right" -->
						<!-- style="font-size:17px;bottom:20px"> -->
						<!-- <b> -->
							<!-- <span>For </span> -->
							<!-- <span t-field='doc.company_id'></span> -->

						<!-- </b> -->
					<!-- </div> -->
				<!-- </div> -->
					<!-- <div class="text-left" style='font-size:11px'> -->
						<!-- <b> -->
							<!-- Page: -->
							<!-- <span class="page" /> -->
						<!-- </b> -->
					<!-- </div> -->
				<!-- </div> -->
		</template>
    
    <template id="report_purchase_order">
		<t t-call="web.html_container">
		  <t t-foreach="docs" t-as="doc">
			<t t-call="custom_report_amla.report_purchase_document" />
	       </t>
		</t>
	</template>
	<template id="internal_layout_customs">
	    <t t-if="not o" t-set="o" t-value="doc" />

			<t t-if="not company">
				<!-- Multicompany -->
				<t t-if="company_id">
					<t t-set="company" t-value="company_id" />
				</t>
				<t t-elif="o and 'company_id' in o">
					<t t-set="company" t-value="o.company_id.sudo()" />
				</t>
				<t t-else="else">
					<t t-set="company" t-value="res_company" />
				</t>
			</t>

		<div class="header">
			<div class="text-center">								
					<img t-if="company.logo_2"
						t-att-src="image_data_uri(company.logo_2)" 
						alt="Logo"
						style="width:890px;heigth:50px;" />																																	
			</div>
        </div>
			<div class="article">
				<t t-raw="0" />
			</div>

    </template>
</odoo>