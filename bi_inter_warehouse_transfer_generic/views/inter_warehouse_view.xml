<?xml version="1.0"?>
<odoo>
	<data>
		<record id="inter_warehouse_transfer_tree_view" model="ir.ui.view">
			<field name="name">pos.inter.warehouse.transfer.tree.view</field>
			<field name="model">inter.warehouse.transfer</field>
			<field name="arch" type="xml">
				<tree string="Inter Warehouse Transfer">
					<field name="name"/>
					<field name="from_loc_id"/>
					<field name="dest_loc_id"/>
					<field name="state"/>
				</tree>
			</field>
		</record>
		
		<record id="inter_warehouse_transfer_form_view" model="ir.ui.view">
			<field name="name">inter.warehouse.transfer.form.view</field>
			<field name="model">inter.warehouse.transfer</field>
			<field name="arch" type="xml">
				<form string="Inter Warehouse Transfer">
					<header>
						<button name='process' type='object' string='Process' class="btn-primary" attrs="{'invisible': [('state','!=', 'draft')]}"/>
						
						<button name='validate' type='object' string='Validate' class="btn-primary" states="waiting, validated" groups="bi_inter_warehouse_transfer_generic.group_validate_inter_warehouse"/>

						<button name="action_view_return_form" string="Reverse" type="object" class="oe_highlight" attrs="{'invisible': [('state', 'not in', ['done'])]}"/>
						
						<field name="state" widget='statusbar'/> 
					</header>
					<sheet >
						<div class="oe_button_box" name="button_box">
							<button name="action_view_picking" type="object" class="oe_stat_button" icon="fa-pencil-square-o" attrs="{'invisible': [('picking_id', '=', False)]}">
								<span>Picking</span>
							</button>
							
							<button name="action_view_return_inter_warehouse" type="object" class="oe_stat_button" icon="fa-pencil-square-o" attrs="{'invisible': [('r_id', '=', False)]}">
								<span>Return InterWarehousetransfer</span>
							</button>
							
						</div>	
						<div class="oe_title oe_left">
							<h1> <field name="name"/> </h1>
						</div>	
						<group>
							<field name="transfer_type"/>
						</group>	
						<group invisible="1">
							<field name="r_id"/>
							<field name="company_id"/>
							<field name="validated_by_src" readonly='1'/>
							<field name="picking_id" invisible='1'/>
						</group>			
						<group>
							<group>
								<field name="from_loc_id" context="{'loc' : True}" widget='selection'/>
							</group>
							<group>
								<field name="dest_loc_id" context="{'loc' : True}" widget='selection'/>
							</group>
						</group>
						<notebook>
							<page string="Products">
								<field name="transfer_lines">
									<tree editable="bottom">
										<field name="product_id"/>
										<field name="qty"/>
									</tree>
								</field>
							</page>
						</notebook>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
						<field name="activity_ids" widget="mail_activity"/>
						<field name="message_ids" widget="mail_thread"/>
					</div>
				</form>
			</field>
		</record>
		
		
		
		<record model="ir.actions.act_window" id="action_open_inter_warehouse_transfer">
			<field name="name">Inter Warehouse Transfer</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">inter.warehouse.transfer</field>
			<field name="view_mode">tree,form</field>
		</record>
		
		
		

		<menuitem 
			parent="stock.menu_stock_root" 
			name="Inter Warehouse Transfers" 
			id="menu_main_int_wh_trans" 
			sequence="10"/>

		<menuitem 
			parent="menu_main_int_wh_trans" 
			action="action_open_inter_warehouse_transfer" 
			name="Inter Warehouse Transfers" 
			id="menu_int_wh_transfer" 
			sequence="2"/>
			
	</data>	
</odoo>
