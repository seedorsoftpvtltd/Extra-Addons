<?xml version="1.0"?>
<odoo>
<data>
        <record model="ir.actions.act_window" id="action_sale_order">
        <field name="name">Advance Sipping Note</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">warehouse.order</field>
        <field name="view_mode">form,tree</field>
        <field name="domain">[('active_sale_id','=',active_id)]</field>
        <field name="context">{
            "default_active_sale_id":active_id,
            "default_user_id": False,
            }
        </field>
    </record>

    <record id="action_ans_tree" model="ir.actions.act_window.view">
        <field eval="1" name="sequence"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="warehouse.warehouse_order_tree"/>
        <field name="act_window_id" ref="action_sale_order"/>
    </record>
<!-- FORM VIEW  -->

        <record id="sale_order_view" model="ir.ui.view">
            <field name="name">sale.order.form</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_order_form"/>
            <field name="arch" type="xml">
                <header>
                        <button name="%(action_transientmodel_wizard)d" string="Create ASN" type="action" class="btn-primary" attrs="{'invisible':[('state','in',['done','cancel'])]}"/>
                </header>
                <xpath expr="//div[@name='button_box']" position="inside">
                    <button icon="fa-pencil-square-o"  name="%(action_sale_order)d" class="oe_highlight" type="action">
                        <field name="compute_order_count" string="ASN" widget="statinfo"/>
                    </button>
                    <!--/div-->
                </xpath>
            </field>
        </record>
</data>
</odoo>

