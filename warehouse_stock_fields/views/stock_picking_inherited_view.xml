<?xml version="1.0" encoding="utf-8" ?>

<odoo>

    <record id="view_picking_form_inherited" model="ir.ui.view">
        <field name="name">stock.picking.form.inherited</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='picking_type_id']" position="after">
                <field name="x_transport_mode"
                       attrs="{'invisible': [('picking_type_code', 'not in', ('incoming','outgoing'))]}"/>
                <field name="x_billno"/>
                <field name="x_regime" widget='many2many_tags'
                       attrs="{'invisible': [('picking_type_code', 'not in', ('incoming','outgoing'))]}"/>
<!--                <field name="x_driver1"-->
<!--&lt;!&ndash;                       attrs="{'invisible': [('picking_type_code', 'not in', ('incoming','outgoing'))]}"/>&ndash;&gt;-->
<!--                <field name="driver_id"-->
<!--                       attrs="{'invisible': [('picking_type_code', 'not in', ('incoming','outgoing'))]}"/>-->
<!--                <field name="lorry_no"-->
<!--                       attrs="{'invisible': [('picking_type_code', 'not in', ('incoming','outgoing'))]}"/>-->


            </xpath>
            <xpath expr="//field[@name='scheduled_date']" position="replace">
                <field name="scheduled_date" attrs="{'required': [('id', '!=', False)],'invisible': [('picking_type_code', 'in', ('incoming','outgoing'))]}"/>
                <field name="scheduled_date" string="ETA" attrs="{'required': [('id', '!=', False)],'invisible': [('picking_type_code', 'not in', 'incoming')]}"/>
                <field name="scheduled_date" string="ETD" attrs="{'required': [('id', '!=', False)],'invisible': [('picking_type_code', 'not in', 'outgoing')]}"/>


            </xpath>
            <xpath expr="//field[@name='date_done']" position="replace">
                <field name="date_done" string="Effective Date" attrs="{'invisible': ['|',('state', '!=', 'done'),('picking_type_code', 'in', ('incoming','outgoing'))]}"/>

                <field name="date_done" string="ATA" attrs="{'invisible': ['|',('state', '!=', 'done'),('picking_type_code', 'not in', 'incoming')]}"/>
                <field name="date_done" string="ATD" attrs="{'invisible': ['|',('state', '!=', 'done'),('picking_type_code', 'not in', 'outgoing')]}"/>

            </xpath>
<!--            <xpath expr="//field[@name='origin']" position="after">-->


<!--                <field name="custom_officer_name"-->
<!--                       attrs="{'invisible': [('picking_type_code', 'not in', ['incoming','outgoing'])]}"/>-->
<!--                <field name="custom_officer_id"-->
<!--                       attrs="{'invisible': [('picking_type_code', 'not in', ['incoming','outgoing'])]}"/>-->


<!--            </xpath>-->

        </field>
    </record>

</odoo>