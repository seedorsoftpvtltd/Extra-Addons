<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record model="ir.ui.view" id="quick_timesheet_sheet_form_view">
        <field name="name">quick.timesheet.sheet form</field>
        <field name="model">quick.timesheet.sheet</field>
        <field name="arch" type="xml">
            <form>
                 <header>
                    <button name="action_confirm" states="draft" string="Confirm" type="object" class="btn-primary"/>
                    <button name="action_approve" states="confirm" string="Approve" type="object" class="btn-primary" 
                            groups="hr_timesheet.group_timesheet_manager"/>
                    <button name="create_timesheet_sheet" states="approve" string="Create Timesheet" type="object" class="btn-primary" 
                            groups="hr_timesheet.group_timesheet_manager"/>
                    <button name="action_reset_to_draft" states="confirm,approve" string="Reset to Draft" type="object" class="btn-primary"/>
                    <button name="action_cancel" states="draft,confirm,approve" string="Cancel" type="object"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,confirm,approve,create_timesheet"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_view_timesheet" type="object" class="oe_stat_button" icon="fa-calendar" attrs="{'invisible': [('timesheet_count', '=', 0)]}">
                            <field name="timesheet_count" widget="statinfo" string="Timesheet"/>
                        </button>
                    </div>
                    <group>
                        <group>
                            <field name="start_date" attrs="{'readonly' : [('state','!=','draft')]}" />
                            <field name="employee_id" attrs="{'readonly' : [('state','!=','draft')]}"/>
                            <field name="project_id" attrs="{'readonly' : [('state','!=','draft')]}"/>
                            <field name="create_date"/>
                            <field name="is_create_timesheet" invisible="1"/>
                        </group>
                        <group>
                            <field name="end_date" attrs="{'readonly' : [('state','!=','draft')]}"/>
                            <field name="company_id" attrs="{'readonly' : [('state','!=','draft')]}" groups="base.group_multi_company"/>
                            <field name="task_id" attrs="{'readonly' : [('state','!=','draft')]}" domain="[('project_id','=',project_id)]"/> <!-- 28/11/2019 -->
                            <field name="create_by"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Timesheets">
                            <table class="table table-bordered" width="100%">
                                <tr>
                                    <th width="15%">
                                        <span>Work Type</span>
                                    </th>
                                    <th width="12%">
                                        <field name="label_day1"/>
                                    </th>
                                    <th width="12%">
                                        <field name="label_day2"/>
                                    </th>
                                    <th width="12%">
                                        <field name="label_day3"/>
                                    </th>
                                    <th width="12%">
                                        <field name="label_day4"/>
                                    </th>
                                    <th width="12%">
                                        <field name="label_day5"/>
                                    </th>
                                    <th width="12%">
                                        <field name="label_day6"/>
                                    </th>
                                    <th width="12%">
                                        <field name="label_day7"/>
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        <field name="normal_type_id"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="normal1" widget="float_time"/></b><br/>
                                        <field name="normal_des1"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="normal2" widget="float_time"/></b><br/>
                                        <field name="normal_des2"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="normal3" widget="float_time"/></b><br/>
                                        <field name="normal_des3"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="normal4" widget="float_time"/></b><br/>
                                        <field name="normal_des4"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="normal5" widget="float_time"/></b><br/>
                                        <field name="normal_des5"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="normal6" widget="float_time"/></b><br/>
                                        <field name="normal_des6"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="normal7" widget="float_time"/></b><br/>
                                        <field name="normal_des7"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <field name="overtime_type_id"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="overtime1" widget="float_time"/></b><br/>
                                        <field name="overtime_des1"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="overtime2" widget="float_time"/></b><br/>
                                        <field name="overtime_des2"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="overtime3" widget="float_time"/></b><br/>
                                        <field name="overtime_des3"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="overtime4" widget="float_time"/></b><br/>
                                        <field name="overtime_des4"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="overtime5" widget="float_time"/></b><br/>
                                        <field name="overtime_des5"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="overtime6" widget="float_time"/></b><br/>
                                        <field name="overtime_des6"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="overtime7" widget="float_time"/></b><br/>
                                        <field name="overtime_des7"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <field name="free_type_id"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="free1" widget="float_time"/></b><br/>
                                        <field name="free_des1"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="free2" widget="float_time"/></b><br/>
                                        <field name="free_des2"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="free3" widget="float_time"/></b><br/>
                                        <field name="free_des3"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="free4" widget="float_time"/></b><br/>
                                        <field name="free_des4"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="free5" widget="float_time"/></b><br/>
                                        <field name="free_des5"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="free6" widget="float_time"/></b><br/>
                                        <field name="free_des6"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="free7" widget="float_time"/></b><br/>
                                        <field name="free_des7"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <field name="sick_type_id"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="sick1" widget="float_time"/></b><br/>
                                        <field name="sick_des1"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="sick2" widget="float_time"/></b><br/>
                                        <field name="sick_des2"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="sick3" widget="float_time"/></b><br/>
                                        <field name="sick_des3"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="sick4" widget="float_time"/></b><br/>
                                        <field name="sick_des4"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="sick5" widget="float_time"/></b><br/>
                                        <field name="sick_des5"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="sick6" widget="float_time"/></b><br/>
                                        <field name="sick_des6"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="sick7" widget="float_time"/></b><br/>
                                        <field name="sick_des7"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <field name="overnight_type_id"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="overnight1" widget="float_time"/></b><br/>
                                        <field name="overnight_des1"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="overnight2" widget="float_time"/></b><br/>
                                        <field name="overnight_des2"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="overnight3" widget="float_time"/></b><br/>
                                        <field name="overnight_des3"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="overnight4" widget="float_time"/></b><br/>
                                        <field name="overnight_des4"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="overnight5" widget="float_time"/></b><br/>
                                        <field name="overnight_des5"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="overnight6" widget="float_time"/></b><br/>
                                        <field name="overnight_des6"/>
                                    </td>
                                    <td style="word-wrap: break-word;">
                                        <b><field name="overnight7" widget="float_time"/></b><br/>
                                        <field name="overnight_des7"/>
                                    </td>
                                </tr>
                            </table>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>

   <record id="quick_timesheet_sheet_kanban_view" model="ir.ui.view">
        <field name="name">quick.timesheet.sheet kanban</field>
        <field name="model">quick.timesheet.sheet</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="employee_id" />
                <field name="project_id" />
                <field name="task_id"/>
                <field name="company_id" />
                <field name="state" />
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click">
                            <div class="oe_kanban_details d-flex flex-column">
                                <ul>
                                    <field name="employee_id" />
                                    <br></br>
                                    <field name="project_id" />
                                    <br></br>
                                    <field name="task_id" />
                                    <br></br>
                                    <field name="company_id" />
                                    <br></br>
                                    <field name="state" />
                                </ul>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>
    
    <record model="ir.ui.view" id="quick_timesheet_sheet_tree_view">
        <field name="name">quick.timesheet.sheet tree</field>
        <field name="model">quick.timesheet.sheet</field>
        <field name="arch" type="xml">
            <tree>
                <field name="employee_id" />
                <field name="project_id" />
                <field name="task_id"/>
                <field name="start_date"/>
                <field name="end_date"/>
                <field name="company_id" />
                <field name="state" />
            </tree>
        </field>
    </record>
    
            <record model="ir.ui.view" id="quick_timesheet_sheet_search_view">
            <field name="name">quick.timesheet.sheet search</field>
            <field name="model">quick.timesheet.sheet</field>
            <field name="arch" type="xml">
                <search>
                     <field name="employee_id"/>
                     <field name="project_id"/>
                     <field name="task_id"/>
                     <field name="company_id" />
                     <field name="state"/>
                     <field name="create_by"/>
                     <field name="start_date"/>
                     <field name="end_date"/>
                     <field name="is_create_timesheet"/>
                     <field name="create_date"/>
                     <filter string="Timesheet Created" name="is_create_timesheet" domain="[('is_create_timesheet','=',True)]"/>
                     <group expand="0" string="Group By">
                        <filter name="Employee" context="{'group_by':'employee_id'}"/>
                        <filter name="Project" context="{'group_by':'project_id'}"/>
                        <filter name="Task" context="{'group_by':'task_id'}"/>
                        <filter name="Company" context="{'group_by':'company_id'}"/>
                        <filter name="Status" context="{'group_by':'state'}"/>
                        <filter name="Timesheet Created" context="{'group_by':'is_create_timesheet'}"/>
                        <filter name="Created By" context="{'group_by':'create_by'}"/>
                        <filter name="Create Date" context="{'group_by':'create_date'}"/>
                    </group>
                </search>
            </field>
        </record>
    
    <record id="create_quick_timesheet_sheet" model="ir.actions.act_window">
        <field name="name">Quick Timesheets</field>
        <field name="res_model">quick.timesheet.sheet</field>
        <!-- <field name="view_type">form</field> -->
        <field name="view_mode">kanban,tree,form</field>
    </record>
    
</odoo>
