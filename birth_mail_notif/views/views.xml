<?xml version="1.0" encoding="utf-8"?>
<odoo>
     <data noupdate="1">
        <record id="employee_birth_day" model="ir.cron">
            <field name="name">Employee Birthday</field>
            <field name="user_id" ref="base.user_root"/>
            <field name="interval_number">1</field>
            <field name="interval_type">days</field>
            <field name="numbercall">-1</field>
            <field eval="False" name="doall"/>
            <field ref="hr.model_hr_employee" name="model_id"/>
           <field name="code">model.employee_birth_not()</field>
        </record>

       <record id="employee_birthday_not_template" model="mail.template">
           <field name="name">Employee Birthday Template</field>
           <field name="model_id" ref="hr.model_hr_employee"/>
           <field name="email_from">${(object.company_id.email)|safe}</field>
           <field name="email_to" >${object.work_email}</field>
           <field name="subject">Birth Day Notification</field>
           <field name="auto_delete" eval="True"/>
           <field name="body_html"><![CDATA[
                <p>Hi ${object.name}</p>
                <p>Today's birthday people list added  below.</p>
            <table width="771" cellspacing="1" cellpadding="4" border="1" height="73">
            <tbody>
            <tr>
                <th>Employee Name</th>
                <th>Job Role</th>
            </tr>
                % for values in object.get_birth_ids()
                <tr>
                  <td>${values['emp_name']}</td>
                  <td>${values['emp_role']}<br></td>
                </tr>
                % endfor
                </tbody></table>
                <br/>
                 ]]>
           </field>
       </record>

   </data>

</odoo>
